\documentclass[a4paper,12pt]{article}

\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[francais]{babel}
\usepackage{graphicx}
\usepackage{color}
\definecolor{grey}{rgb}{0.9,0.9,0.9}
\definecolor{teal}{rgb}{0.0,0.5,0.5}
\definecolor{violet}{rgb}{0.5,0,0.5}
\usepackage[margin=2.5cm]{geometry}\usepackage{listings}
\usepackage{listingsutf8}
\lstloadlanguages{caml}
\lstdefinestyle{listing}{
  language=[Objective]Caml,
  captionpos=t,
  inputencoding=utf8/latin1,
  extendedchars=true,
  numbers=left,
  numberstyle=\tiny,
  numbersep=5pt,
  breaklines=true,
  breakatwhitespace=true,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  basicstyle=\footnotesize\ttfamily,
  backgroundcolor=\color{grey},
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{teal},
  identifierstyle=\color{black},
  stringstyle=\color{red},
  numberstyle=\color{violet},
}
\lstset{style=listing}

\title{TP1 - Analyse lexicale et crible}
\author{\textsc{Raphaël Baron} - \textsc{Paul Chaignon}}
\date{\today}

\begin{document}

\maketitle

\section{Analyseur}

\lstinputlisting[caption=lexer.ml]{ulex.ml}

\lstinputlisting[caption=lexer.mll]{lexer.mll}
\vspace{1cm}

\section{Tests}

\lstinputlisting[caption=tests.ml]{tests.ml}
\vspace{1cm}

\section{Questions}

\subsection{Question 1.1}
Avoir un crible séparé permet de simplifier l'automate. Tout d'abord, le lexème va être reconnu par l'automate (valide ou non), puis grâce au crible on pourrra lui attribuer l'unité lexicale qui correspond. Au final, la maintenace de code sera plus aisée.

\subsection{Question 1.2}
Oui, c'est parfaitement possible. Cela n'affectera pas l'AFD d'OCamllex, cependant, le crible sera lui modifié (afin d'associer correctement les unités lexicales et/ou).

\subsection{Question 1.3}
On peut distinguer 2 intérêts principaux:
	- On peut facilement effectuer un filtrage (objectif de l'analyse syntaxique), grâce aux "match .. with .."
	- L'ajout de nouveaux éléments reconnus est très simple : il suffit d'ajouter une ligne dans la définitions des types reconnus.
Enfin, même si c'est plus anecdotique, cela permet d'avoir un code plus propre, et rapidement compréhensible.

\subsection{Question 1.4}
Grâce au scanner incrémental, on peut plus facilement voir où se trouver l'erreur, lorsqu'il y en a une. En effet, un scanner traditionnel permet simplemetn de savoir si l'expression est ou non reconnue, mais pas de situer l'erreur. A l'inverse, en incrémentant on sait exactement quel token pose problème.

\subsection{Question 1.5}
On considère ident comme un terminal, car ici on n'applique qu'une analyse lexicale, et non syntaxique. Un ident est un lexème, et est donc terminal.

\subsection{Question 1.6}
Il suffit de créer trois nouvelles unités lexicales : UL\_SI, UL\_ALORS et UL\_SINON, et de les spécifier dans le crible.

\end{document}